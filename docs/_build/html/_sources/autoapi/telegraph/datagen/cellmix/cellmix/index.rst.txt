:py:mod:`telegraph.datagen.cellmix.cellmix`
===========================================

.. py:module:: telegraph.datagen.cellmix.cellmix


Module Contents
---------------


Functions
~~~~~~~~~

.. autoapisummary::

   telegraph.datagen.cellmix.cellmix._update_adatas
   telegraph.datagen.cellmix.cellmix._add_interactions
   telegraph.datagen.cellmix.cellmix._linear_grad
   telegraph.datagen.cellmix.cellmix._add_gradients
   telegraph.datagen.cellmix.cellmix._generate_coords
   telegraph.datagen.cellmix.cellmix._cellmix_type_balanced
   telegraph.datagen.cellmix.cellmix._downsample
   telegraph.datagen.cellmix.cellmix.cellmix



.. py:function:: _update_adatas(ad_sc, ad_sp, x_add_sc, sc_var_names)


.. py:function:: _add_interactions(adata: anndata.AnnData, n_effect: int = 10, spatial_key: str = 'spatial', subset_types: List[str] | None = None, p_active_spots: float = 0.2, p_inter: float = 0.5, spot_data: bool = True, signal_name: str | None = None, return_names: bool = True, subset_features: List[str] | None = None)


.. py:function:: _linear_grad(crd, mu_low, mu_high, rad_theta)


.. py:function:: _add_gradients(adata: anndata.AnnData, n_features: int | float, return_names: bool = True)


.. py:function:: _generate_coords(p_mat: numpy.ndarray, encode_spatial: bool = True)


.. py:function:: _cellmix_type_balanced(ad_sc: anndata.AnnData, n_spots: int, n_cells_per_spot: int = 10, n_types_per_spot: int = 3, label_col: str | None = None, add_spatial_structure: bool = True, encode_spatial: bool = False, n_spatial_grad: None | int = None, n_interactions: int | None = None, effect_size: int = 10, p_signal_spots: float = 0.5)

   creates 'mixed' data akin to spot-based data that will have a pre-specified
   average number of cell types per spot as well as pre-defined number of cells per spot



.. py:function:: _downsample(adata: anndata.AnnData, downsample: List[float] | float | None = None)

   downsamples exprssion according to a given percentage.
   the new library size of each observation will be downsample % of the original one.



.. py:function:: cellmix(ad_sc: anndata.AnnData, n_spots: int, n_cells_per_spot: int = 10, n_types_per_spot: int = 3, label_col: str | None = None, downsample: List[float] | float | None = None, encode_spatial: bool = False, n_spatial_grad: None | int = None, n_interactions: bool | None = None, effect_size: int = 10)

   pretty wrapper for cellmix


